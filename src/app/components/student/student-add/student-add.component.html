<div class="form-container">
    <!-- (ngSubmit)="onSubmit(studentForm) -->
    <form #studentForm="ngForm">
        <div [hidden]="formReady">
            <h1>Nowy kursant</h1>
         

            <div class="form-group">
                <label for="firstName">Imię</label>
                <input type="text" inputmode="latin-name"
                required
                minlength="2"
                maxlength="30"
                ngModel
                name="firstName"
                #firstName="ngModel"
                id="name"
                class="form-control" 
                [class.is-valid]=firstName.valid 
                [class.is-invalid]="!firstName.valid && firstName.touched">
                <div *ngIf="!firstName.valid && firstName.touched" >
                    <span class="field-validation-error" *ngIf="firstName.errors.required">
                    <small>To pole jest wymagane</small></span>                    
                </div>
            </div>

            <div class="form-group">
                <label for="lastName">Nazwisko</label>
                <input  type="text" 
                inputmode="latin-name"
                required
                minlength="2"
                maxlength="60"
                ngModel
                name="lastName"
                #lastName="ngModel"
                id="lastName"
                class="form-control" 
                [class.is-valid]=lastName.valid
                [class.is-invalid]="!lastName.valid && lastName.touched">
                <div *ngIf="!lastName.valid && lastName.touched" >
                    <span class="field-validation-error" *ngIf="lastName.errors.required">
                    <small>To pole jest wymagane</small></span>                    
                </div>                    
            </div>

            

            <div class="form-group">
                <label for="birthDate">Data urodzenia</label>
                <input  type="text" placeholder="DD-MM-YYYY"
                required
                pattern="([3][0-1]|[1-2][0-9]|[0][1-9])-([1][0-2]|[0][1-9])-(19[0-9][0-9]|20[0-2][0-9])"
                ngModel
                name="birthDate"
                #birthDate="ngModel"
                id="birthDate"
                class="form-control" 
                [class.is-valid]=birthDate.valid
                [class.is-invalid]="!birthDate.valid && birthDate.touched">
                <div *ngIf="!birthDate.valid && birthDate.touched" >
                    <span class="field-validation-error" *ngIf="birthDate.errors.required">
                    <small>To pole jest wymagane</small></span>                    
                </div> 
            </div>
        
            <div class="form-group">
                <label for="weight">Waga</label>
                <input  type="text" placeholder="min. 25"
                required
                pattern="([2-9][5-9]|[3-9][0-9]|[1-3][0-9][0-9])"
                ngModel
                name="weight"
                #weight="ngModel"
                id="weight"
                class="form-control" 
                [class.is-valid]=weight.valid
                [class.is-invalid]="!weight.valid && weight.touched">
                <div *ngIf="!weight.valid && weight.touched" >
                    <span class="field-validation-error" *ngIf="weight.errors.required">
                    <small>To pole jest wymagane</small></span>                    
                </div>  
            </div>
            <!--  -->
            <div class="form-buttons">
                <button type="submit"
                class="btn btn-success"
                (click)="formReady=true; makeForm(studentForm)"            
                [disabled]="!studentForm.form.valid">       Zatwierdź</button>

                <button type="button" 
                class="btn btn-default" 
                (click)="studentForm.reset()">            Reset</button>
            </div>
        
        </div>
                        <!-- CONFIRMED FORM -->
                                                        <!-- *ngIf="!formSubmitted" -->
        <div class="confirmed-form" [hidden]="!formReady || (formReady && formSubmitted)" >
            <h2>{{firstName.value}} {{lastName.value}}</h2>
            <div class="confirmed-form-fields">
                
                <div class="field">
                    <span>Data urodzenia:</span>
                    <span>{{ birthDate.value }}</span>
                </div>
                <div class="field">
                    <span>Waga:</span>
                    <span id="value">{{ weight.value }}</span>
                </div>
            </div>
            <div class="confirmed-form-buttons">
                <button type="button" 
                class="confirmed-edit btn btn-labeled btn-primary" 
                (click)="formReady=false">
                    <span class="btn-label">
                        <i class="fas fa-edit"></i>

                    </span>Zmień</button>

                <button type="button" 
                class="confirmed-send btn btn-labeled btn-success"
                (click)="onSubmit()">
                    <span class="btn-label">
                        <i class="fas fa-check"></i>

                    </span>Zgadza się!</button>
            </div>        
        </div>
    </form>

</div>



<!-- 
<div class="form-container">
    <div [hidden]="submitted">
        <h1>Nowy kursant</h1>
        <form (ngSubmit)="onSubmit()" #studentForm="ngForm">

            
            <div class="form-group">
                <label for="name">Imię</label>
                <input type="text" class="form-control" id="name"
                required
                [(ngModel)]="student.name" name="name"
                #name="ngModel"
                #spy>
                <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
                    To pole jest wymagane
                    
                </div>
            </div>
            {{spy.className}}
            <div class="form-group">
                <label for="surname">Nazwisko</label>
                <input  type="text" class="form-control" id="surname"
                required                
                [(ngModel)]="student.surname" name="surname"
                #surname="ngModel">
                <div [hidden]="surname.valid || surname.pristine" class="alert alert-danger">
                    To pole jest wymagane
                </div>

            </div>

            <div class="form-group">
                <label for="birth_date">Data urodzenia np. 27-06-1985</label>
                <input type="datetime-local" class="form-control" id="birth_date" 
                pattern="[0-9]{2}-[([0][1-9])([1][0-2])]-[0-9]{4}"
                placeholder="Dzień - Miesiąc - Rok"
                required
                [(ngModel)]="student.birth_date" name="birth_date"
                #birth_date="ngModel">
                <div [hidden]="birth_date.valid || birth_date.pristine" class="alert alert-danger">
                    To pole jest wymagane
                </div>
            </div>

            <div class="form-group">
                <label for="weight">Waga</label>
                <input type="number" class="form-control" id="weight"
                required
                [(ngModel)]="student.weight" name="weight"
                #weight="ngModel">
                <div [hidden]="weight.valid || weight.pristine" class="alert alert-danger">
                    To pole jest wymagane
                </div>
            </div>

            <button type="submit" class="btn btn-success" [disabled]="!studentForm.form.valid">Zatwierdź</button>
            <button type="button" class="btn btn-default" (click)="newStudent(); studentForm.reset()">Nowy kursant</button>
                
            
        </form>
    </div>

    <div [hidden]="!submitted">
        <h2>Wyszło coś takiego:</h2>
        <div class="row">
        <div class="col-xs-3">Imię</div>
        <div class="col-xs-9">{{ student.name }}</div>
        </div>
        <div class="row">
        <div class="col-xs-3">Nazwisko</div>
        <div class="col-xs-9">{{ student.surname }}</div>
        </div>
        <div class="row">
        <div class="col-xs-3">Data urodzenia</div>
        <div class="col-xs-9">{{ student.birth_date }}</div>
        </div>
        <div class="row">
        <div class="col-xs-3">Waga</div>
        <div class="col-xs-9">{{ student.birth_date }}</div>
        </div>
        <br>
        <button class="btn btn-primary" (click)="submitted=false">Edit</button>
    </div>

</div> -->
